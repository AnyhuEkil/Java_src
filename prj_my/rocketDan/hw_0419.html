<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>♪♪♪♪♪</title>
<style type="text/css">
body{box-sizing:border-box;}
*, *:after, *:before{box-sizing:inherit;}

*{margin:0; padding:0;}

.whyContain{padding:0;}
.whyContain:after,
.whyContain:before{content:"";display:table;clear:both;}

html,body{height:100%;overflow:hidden;}

.windowFull{
	overflow:auto;
	background:#779ECB;
	width:100%;
	height:100%;
	overflow:auto;
	padding:10px;
}

#winHalf{
	display:inline-block;
	float:left;
	width:calc(100% - 350px);
	height:100%;
	background:#d0e1d9;
}
.table{
	display:block;
	width:100%;
	height:100%;
	margin:auto;
	color:gold;
	font-size:30px;
	font-weight:bold;
	border-style:groove;
}
#manual{
	background:#3f6fa3;
	width:100%;
	height:100%;
	line-height:100%;
}

/* 조작부분 */
.sideMenu{
	display:inline-block;
	float:left;
	width:320px;
	margin:0px 15px;
	overflow:auto;
}
.welcome{
	width:100%;
	height:100%;
	color:#d8e2ef;
	font-size:25px;
	font-weight:bold;
	text-align:center;
}
.sideLine{
	display:inline-block;
	width:100%;
	height:30px;
	float:left;
}
.sideTitle{
	float:left;
	width:100%;
	height:50px;
	line-height:45px;
	background:#24405e;
	color:white;
	margin:5px 0px;
}
.sideContents,
#scoreVal,
#levelMaxVal,
input{
	display:inline-block;
	text-align:right;
	float:left;
	width:50%;
	height:50px;
	background:#3f70a5;
	line-height:45px;
	margin:5px 0px;
	padding:0px 10px;
}
.sideBtn{
	width:100%;
	height:50px;
	line-height:45px;
	float:left;
	margin:5px 0px;
	background:#1f1f18;
	color:gold;
}
#scoreVal,
#levelMaxVal,
input{
	text-align:left;
}
#levelInVal{
	text-align:left;
	background:#3f70a5;
}		
input{
	border:5px solid #3f70a5;
	background:#779ECB;
	font-size:25px;
	color:#cad9ea;
}

/*
*{border: 1px dotted red;}
*/
</style>

<script src="http://code.jquery.com/jquery-3.2.1.js">
</script>
<script type="text/javascript">
/**/
$(document).ready(function(){
	//입력창 클리어하기.	
	$("input").focus(function(){
		this.value="";
	});
});

// 키보드 조작.
document.addEventListener("keydown",setBtn);

function setBtn(e){
	if(e.keyCode){
		console.log( String.fromCharCode(event.keyCode) +" : "+event.keyCode);
	}
	if(e.keyCode==48){	//키코드 숫자 0
		createTable();
	}
	if(e.keyCode==49){ // 키코드 숫자 1 
		makeTempArray();
	}
	if(e.keyCode==50){ // 키코드 숫자 2
		startGamePlay();
	}
	
}



/* 테이블 x,y값을 입력 받고 테이블을 만들자!!... 는 보류
function creatTdnum(){
}
*/
var gameSet = 0; //게임 실행과정을 위한 변수
var tdNum = 16; //테이블 안의 td총 갯수.
var sameNum	= 8; // 같은 조각 갯수
var level = 1; // 레벨 초기값 1
var kindsNum = 2; // 같은 조각 종류 수
var maxLevel = 8; // 게임 계속 진행시 갈수 있는 최고 레벨


var rowNum = 5	//가로 갯수
var colNum = 7	//세로 갯수
var textTable="";
var trHeight=50;
function createTable(){
	textTable=""
	console.log("tr: "+rowNum+", td: "+colNum)
	for(row=1;row<=rowNum;row++){
		textTable += '<div class="tr">\n';
		for(col=1;col<=colNum;col++){
			textTable += '\t<div class="td"></div>\n';
		}
		textTable += '</div>\n';
	}
	console.log(textTable)
	$('.table').html(textTable);
	$('.tr').css({height:100/rowNum+'%'});
	$('.td').css({display:'inline-block',
		'border-style':'outset',
		background:'#1f1f18',
		'float':'left',
		'text-align':'center',
		height:'100%',
		cursor: 'help',
		width:100/colNum+'%'});
	trHeight = $('.td').height();
	$('.td').css({
		'line-height':$('.td').height()+'px',
		'font-size':$('.td').height()/3+'px',
	});
}


/* 게임 시작버튼 클릭시 초기 1레벨 부터 생성 */
function startGameValue(){
	if(gameSet==0){
		level = 1;							//초기 level 설정
		tdNum = $('.td').length; 	//td 총갯수 설정 //테이블 생성기준
		maxLevel = Math.floor(tdNum/2);		//maxLevel 설정//테이블 생성기준
		setTdzero();						// 초기 td=0넣기 //테이블 생성기준
		sameNum = Math.floor(tdNum/(level*2));	//초기 같은모양 조각 총 갯수 설정 //레벨 변경기준
		kindsNum = Math.floor(tdNum/sameNum);	//초기 조각의 종류 수 //레벨 변경기준
	}else{
		alert("오류코드:E20000bYe_startGame()");
	}
}

/* 초기설정 끝! */


// 가상 배열 만들기 시작
//	* 테스트용 숫자
//		tdNum = 25; //테이블 안의 td총 갯수.
//		sameNum	= 8; // 같은 조각 갯수
//		kindsNum = 3; // 조각 종류 수

// 가상배열
var tempArray = [];
function makeTempArray() {
	console.log("같은 조각: "+sameNum+
				"개\n조각 종류: "+kindsNum+
				"종류\n폭탄: "+(tdNum-sameNum*kindsNum)+
				"개");
    for(var idx = 0; idx < tdNum; idx++) {
        if(sameNum*kindsNum > idx){
        	tempArray[idx] = parseInt(idx/sameNum)+1
        }
        else if(sameNum*kindsNum <= idx){
            tempArray[idx] = 0;
        }
        else{
			alert("오류코드:E20000bYe_makeTempArray() idx: "+idx);;
		}
    }
    console.log(tempArray);
}


// 플레이 버튼 클릭
var ranIdx;
function startGamePlay(){
	$('.td').each(function(){
		ranIdx = Math.floor(Math.random()*tempArray.length); //배열중 랜덤 배열
		$(this).text(tempArray[ranIdx]);		//랜덤한 배열값을 원래 테이블에 넣어줌
		$(this).splice(ranIdx,1);			//넣은 배열을 삭제함.
	});
}


/* 배열 셔플(인터넷 아직 해보지 않음. 좋아보임.)
 function shuffle(a) {
    for (let i = a.length; i; i--) {
        let j = Math.floor(Math.random() * i);
        [a[i - 1], a[j]] = [a[j], a[i - 1]];
    }
}
*/
// 같은번호 나오면 정답
var select







</script>
</head>
<body>
<div class="windowFull whyContain">
	<div id="winHalf">
		<div class="table whyContain">
			<div id='manual'>
				<pre>1.</pre>
			</div>
		</div>
	</div>
	<div class="sideMenu whyContain">
		<div class="welcome whyContain">
			<div class="sideLine"></div>
			<div class="sideTitle"> 짝맞추기 </div>
			<div class="sideLine"></div>
			<div class="sideTitle">- 기본 입력 -</div>
			<div class="sideContents">가로 :</div>
	
			<input type="text" id="rowInVal" value="입력하세요.">
			<div class="sideContents">세로 :</div>
	
			<input type="text" id="colInVal" value="입력하세요.">
			
			<div class="sideBtn" id="btnTable">[ 테이블 생성 ]</div>
			<div class="sideLine"></div>
			<div class="sideTitle">- 정보창 -</div>
			<div class="sideContents">LEVEL :</div>
	
			<input type="text" id="levelInVal" value="입력가능.">
			<div class="sideContents">Max Lv. :</div>
	
			<div class="sideContents" id="levelMaxVal">?</div>
			<div class="sideContents">SCORE :</div>
	
			<div class="sideContents" id="scoreVal">?</div>
			<div class="sideLine"></div>
			<div class="sideLine"></div>
			
			<div class="sideBtn" id="btnStart">[ 시작하기 ]</div>
	
			<div class="sideBtn" id="btnHelp">[ 도움말 ]</div>
			<div class="sideLine"></div>

		</div>
	</div>
</div>

</body>
</html>













